# 19. 함수형 프로그래밍 기법

### 일급 함수

일반값 처럼 취급할 수 있는 함수, 자바8에서는 ::연산자로 메소드 참조를 만들거나 람다표현식으로 직접 함숫값을 표현해서 메소드를 함숫값으로 사용할 수 있다.

### 커링

커링은 x와 y라는 두 인수를 받는 함수 f를 한 개의 인수를 받는 g라는 함수로 대체하는 기법이다. 이때, g라는 함수 역시 하나의 인수를 받는 함수를 반환한다. 함수 g와 원래 함수 f가 최종적으로 반환하는 값은
같다. 즉 f(x,y) = (g(x))(y)가 성립.

- 이와 같이 여러 과정이 끝까지 완료되지 않은 상태를 가리켜 함수가 부분적으로 적용되었다라고 말한다.

### 캐싱 또는 기억화

- 메서드에 래퍼로 캐시를 추가하는 기법.
- 래퍼가 호출되면 인수, 결과 쌍이 캐시에 존재하는지 먼저 확인한다.
    - 캐시에 값이 존재하면 캐시에 저장된 값을 즉시 반환한다.
    - 캐시에 값이 존재하지 않으면 트리를 탐색하서 결과를 계산한 다음에 새로운 인수, 결과 쌍을 캐시에 저장하고 결과를 반환.
- 참조 투명성을 갖는다. (인수가 같다면 결과도 같아야 한다.)

### 콤비네이터

- 함수형 프로그래밍에서는 두 함수를 인수로 받아 다른 함수를 반환하는 등 함수를 조합하는 고차원 함수를 많이 사용하게 된다.
- 이처럼 함수를 조합하는 기능을 콤비네이터라고 함.
- 자바8의 thenCombine() 등..

### 정리

- 일급 함수란 인수로 전달하거나, 결과로 반환하거나, 자료구조에 저장할 수 있는 함수.
- 고차원 함수란 한 개 이상의 함수를 인수로 받아서 다른 함수를 반환하는 함수이다. 자바에서는 comparing, andThen, compose 등의 고차원 함수를 제공.
- 커링은 함수를 모듈화하고 코드를 재사용할 수 있도록 지원하는 기법.
- 영속 자료구조는 갱신될 때 기존 버전의 자신을 보존한다. 결과적으로 자신을 복사하는 과정이 따로 필요하지 않다.
- 자바의 스트림은 스스로 정의할 수 없다.
- 게으른 리스트는 자바 스트림보다 비싼 버전으로 간주할 수 있다. 게으른 리스트는 데이터를 요청했을 때, Supplier를 이용해서 요소를 생성한다.
- 패턴 매칭은 자료형을 언랩하는 함수형 기능, 자바의 switch문을 일반화할 수 있다.
- 참조 투명성을 유지하는 상황에서는 계산 결과를 캐시할 수 있다.
- 콤비네이터는 둘 이상의 함수나 자료구조를 조합하는 함수형 개념.
